
@base_moon_distance = 10
# Basic 1
browndwarf_init = {
	class = "sc_f"
	
	usage = misc_system_init
	usage_odds = 1.5

	flags = { brown_dwarf_system dyson_sphere_built }
	
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	
	change_orbit = 45
	
	planet = {
		count = { min = 2 max = 10 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		
		change_orbit = @base_moon_distance
		
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	
	planet = {
		size = { min = 35 max = 40 }
		class = pc_gigabrown_dwarf
		orbit_distance = 50
		orbit_angle = { min = 90 max = 270 }
		
		init_effect = {
			set_planet_flag = is_giga_brown_dwarf
			add_modifier = {
				modifier = "giga_brown_dwarf"
				days = -1
			}
		}
		
		change_orbit = @base_moon_distance
		
		moon = {
			class = pc_barren
			size = { min = 15 max = 22 }
			count = 1
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 10
		}
		
		moon = {
			class = rl_browndwarf_moon
			size = { min = 15 max = 22 }
			count = { min = 4 max = 6 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = { min = 5 max = 7 }
		}
	}
}

spacehabitat_init = {
	class = "sc_habitat"
	
	name = "Interstellar Habitat"
	
	usage = misc_system_init
	usage_odds = 0

	flags = { habitat_system }
	
	init_effect = {
		spawn_megastructure = { type = "interstellar_habitat_2" }
	}
	
	planet = {
		count = 1
		class = pc_interstellar_habitat
		orbit_distance = 0
		orbit_angle = 1
		size = 25
		has_ring = no
		init_effect = {
			set_planet_flag = has_giga
			set_planet_flag = habitat
			set_planet_flag = megastructure
			set_planet_flag = has_megastructure
			add_modifier = {
				modifier = "interstellar_habitat"
				days = -1
			}
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	
	change_orbit = 45
}

spacehabitatarch_init = {
	class = "sc_habitat"
	
	name = "Interstellar Habitat"
	
	usage = misc_system_init
	usage_odds = 0

	flags = { habitat_system dyson_sphere_built }
	
	init_effect = {
		spawn_megastructure = { type = "interstellar_habitat_3" }
		every_system_megastructure = {
			limit = {
				exists = this
				is_megastructure_type = interstellar_habitat_4
			}
			remove_megastructure = this
		}
	}
	
	planet = {
		count = 1
		class = pc_interstellar_habitat
		orbit_distance = 0
		orbit_angle = 1
		size = 25
		has_ring = no
		init_effect = {
			set_planet_flag = has_giga
			set_planet_flag = habitat
			set_planet_flag = megastructure
			set_planet_flag = has_megastructure
			add_modifier = {
				modifier = "interstellar_habitat"
				days = -1
			}
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "The Cheese Archives"
		orbit_angle = 75
		orbit_distance = 45
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
			random_tile = {
				limit = { has_building = no has_blocker = no num_adjacent_tiles > 3 }
				set_building = "building_cheese_depot"
			}
		}
	}
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
	}
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
	}
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_interstellar_ringworld_habitable"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			while = {
				limit = {
					any_tile = { has_blocker = yes }
				}
				random_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "Interstellar Ringworld Segment"
		orbit_angle = 30
		orbit_distance = 0
	}
	
	change_orbit = 45
}