namespace = direct_build_EACBU
planet_event = {
	id = direct_build_EACBU.1
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		from = {
			or = { has_building = eac_building_planetary_neutron_cannon_direct_build has_building = eac_building_planetary_tachyon_cannon_direct_build }
		}
	}
	immediate = {
		from = {
			switch = {
				trigger = has_building
				eac_building_planetary_neutron_cannon_direct_build = { remove_building = yes set_building = eac_building_planetary_neutron_cannon }
				eac_building_planetary_tachyon_cannon_direct_build = { remove_building = yes set_building = eac_building_planetary_tachyon_cannon }
			}
		}
	}
}
planet_event = {
	id = direct_build_EACBU.3
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_tile = {
			limit = { has_building = yes }
			switch = {
				trigger = has_building
				eac_building_planetary_neutron_cannon_direct_build = { remove_building = yes set_building = eac_building_planetary_neutron_cannon }
				eac_building_planetary_tachyon_cannon_direct_build = { remove_building = yes set_building = eac_building_planetary_tachyon_cannon }
			}
		}
	}
}
country_event = {
	id = direct_build_EACBU.2
	hide_window = yes
	fire_only_once = yes

	trigger = { NOT = { has_global_flag = direct_build_EACBU_started } }

	immediate = {
		every_playable_country = {
			every_owned_planet = { planet_event = { id = direct_build_EACBU.3 } }
		}
		set_global_flag = direct_build_EACBU_started
	}
}
